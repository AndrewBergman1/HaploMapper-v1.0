# HaploMapper v1.0
HaploMapper provides a graphical interface for you to explore the distribution of basal haplogroups present in the AADR dataset (https://reich.hms.harvard.edu/allen-ancient-dna-resource-aadr-downloadable-genotypes-present-day-and-ancient-dna-data). 

## HaploMapper Structure
    - boot()
        Loads the files present in the data folder. 
    - create_bins()
        Bins the AADR dataset based on political entity (country) and sample age. After binning with respect to both columns, a combinedBin is generated (refered to as CombinedBins).
    - FindYHaplogroups() and FindMTHaplogroups()
        Finds the basal haplogroups of the ones provided in the AADR dataset. This is achieved by consulting the y_snp, y_locus, y_phylo and mt_mut, mt_phylo for yDNA and mtDNA respectively (all files are present in the data folder).
    - createDummyVariables() 
        Ensures all haplogroups are alphanumerical, then creates a binary representation of the basal haplogroups and sums the occurences for each sample.
    - createTable()
        Bins the samples with respect to CommbinedBins and generates frequency tables for yDNA and mtDNA. Each row in the dataframe outputed from this function corresponds to the basal haplogroups distribution in a political entity (country) during a specific time interval.
    - saveToFile()
        Generates files corresponding to the frequency tables in CSV-format.
    - createWebApplication()
        Uses Dash to generate a html-dashboard that launches the graphical interface of HaploMapper.  

## Usage
HaploMapper is ran as follows: python HaploMapper.py

HaploMapper is coded in python 3.10.12

## Dependenceies
Dependencies (generated by pip freeze)
    blinker==1.7.0
    branca==0.7.1
    certifi==2024.2.2
    charset-normalizer==3.3.2
    click==8.1.7
    command-not-found==0.3
    contourpy==1.2.0
    cryptography==3.4.8
    cycler==0.12.1
    dash==2.16.0
    dash-bootstrap-components==1.5.0
    dash-core-components==2.0.0
    dash-html-components==2.0.0
    dash-leaflet==1.0.15
    dash-table==5.0.0
    dbus-python==1.2.18
    distro==1.7.0
    distro-info===1.1build1
    Flask==3.0.2
    folium==0.16.0
    fonttools==4.49.0
    httplib2==0.20.2
    idna==3.6
    importlib-metadata==4.6.4
    itsdangerous==2.1.2
    jeepney==0.7.1
    Jinja2==3.1.3
    keyring==23.5.0
    kiwisolver==1.4.5
    launchpadlib==1.10.16
    lazr.restfulclient==0.14.4
    lazr.uri==1.0.6
    MarkupSafe==2.1.5
    matplotlib==3.8.3
    matplotlib-colors==1.0.16
    more-itertools==8.10.0
    nest-asyncio==1.6.0
    netifaces==0.11.0
    numpy==1.26.4
    oauthlib==3.2.0
    packaging==23.2
    pandas==2.2.1
    pillow==10.2.0
    plotly==5.19.0
    pycallgraph2==1.1.3
    PyGObject==3.42.1
    PyJWT==2.3.0
    pyparsing==2.4.7
    python-apt==2.4.0+ubuntu1
    python-dateutil==2.9.0.post0
    pytz==2024.1
    PyYAML==5.4.1
    requests==2.31.0
    retrying==1.3.4
    SecretStorage==3.3.1
    six==1.16.0
    systemd-python==234
    tabulate==0.9.0
    tenacity==8.2.3
    typing_extensions==4.10.0
    tzdata==2024.1
    ubuntu-advantage-tools==8001
    ufw==0.36.1
    unattended-upgrades==0.1
    urllib3==2.2.1
    wadllib==1.3.6
    Werkzeug==3.0.1
    xyzservices==2023.10.1
    zipp==1.0.0

## Contributing 
Anyone who is interested in furthering the development of HaploMapper, email me: Andrew.jg.bergman@gmail.com